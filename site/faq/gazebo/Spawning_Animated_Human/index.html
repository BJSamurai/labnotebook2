
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Nathan Cai">
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>How do I spawn an animated Human? - Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nathan-cai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Notebook" class="md-header__button md-logo" aria-label="Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How do I spawn an animated Human?
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../welcome/" class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cluster/" class="md-tabs__link">
        
  
    
  
  Rover Cluster

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../lab-robots/" class="md-tabs__link">
        
  
    
  
  Lab Robots

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../infrastructure/" class="md-tabs__link">
        
  
    
  
  Infrastrcture

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../reports/" class="md-tabs__link">
        
  
    
  
  Student Projects

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../packages/" class="md-tabs__link">
        
  
    
  
  Software

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cr-package/" class="md-tabs__link">
        
  
    
  
  CR

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../reports/past-gen-letters/" class="md-tabs__link">
        
  
    
  
  Reports

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Notebook" class="md-nav__button md-logo" aria-label="Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    Notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rover Cluster
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lab-robots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Robots
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastrcture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Student Projects
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cr-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CR
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reports/past-gen-letters/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reports
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Reports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reports/sample_project_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample Project Template
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h4 id="nathan-cai">Nathan Cai</h4>
<p>This FAQ section assumes understanding of creating a basic Gazebo world and how to manipulate a XML file. This tutorial relies on the assets native to the Gazebo ecosystem.</p>
<h3 id="setting-up-empty-gazebo-world">Setting up empty Gazebo world</h3>
<p>By Nathan Cai</p>
<p>(If you have a prexisting Gazebo world you want to place an actor you can skip this part)
Empty Gazebo worlds often lack a proper ground plane so it must be added in manually. You can directly paste this code into the world file.</p>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;sdf version=&quot;1.6&quot;&gt;
   &lt;world name=&quot;default&quot;&gt;
      &lt;!-- A ground plane --&gt;
      &lt;include&gt;
         &lt;uri&gt;model://ground_plane&lt;/uri&gt;
      &lt;/include&gt;
      &lt;!-- A global light source --&gt;
      &lt;include&gt;
         &lt;uri&gt;model://sun&lt;/uri&gt;
      &lt;/include&gt;
</code></pre>
<h3 id="placing-an-actor-in-the-world">Placing an actor in the world</h3>
<h2 id="tldr-quick-setup">TL:DR Quick Setup</h2>
<p>Here is the quick setup of everything, one can simply copy and paste this code and change the values to suit the need:</p>
<p>(If you do not have a Plugin for the model, please delete the Plugin section)</p>
<pre><code class="language-xml">&lt;actor name=&quot;actor1&quot;&gt;
    &lt;pose&gt;0 0 0 0 0 0&lt;/pose&gt;
    &lt;skin&gt;
        &lt;filename&gt;PERSON_MESH.dae&lt;/filename&gt;
        &lt;scale&gt;1.0&lt;/scale&gt;
    &lt;/skin&gt;
    &lt;animation name=&quot;NAME&quot;&gt;
        &lt;filename&gt;ANIMATION_FILE_NAME.dae&lt;/filename&gt;
        &lt;scale&gt;1.000000&lt;/scale&gt;
        &lt;interpolate_x&gt;true&lt;/interpolate_x&gt;
    &lt;/animation&gt;
    &lt;plugin name=&quot;PLUGIN NAME&quot; filename=&quot;PLUGIN_FILE_NAME.so&quot;&gt;
        ...
        ...
        ...
    &lt;/plugin&gt;
    &lt;script&gt;
        &lt;trajectory id=&quot;0&quot; type=&quot;NAME&quot;&gt;
            &lt;waypoint&gt;
                &lt;time&gt;0&lt;/time&gt;
                &lt;pose&gt;0 2 0 0 0 -1.57&lt;/pose&gt;
            &lt;/waypoint&gt;
            &lt;waypoint&gt;
                &lt;time&gt;2&lt;/time&gt;
                &lt;pose&gt;0 -2 0 0 0 -1.57&lt;/pose&gt;
            &lt;/waypoint&gt;
            ...
                ...
                ...
            ...
        &lt;/trajectory&gt;
      &lt;/script&gt;
&lt;/actor&gt;
</code></pre>
<h2 id="defining-an-actor">Defining an actor</h2>
<p>Human or animated models in Gazebo are called actors, which contains all the information of an actor. The information can include: <code>pose</code>, <code>skin</code>, <code>animation</code>, or any <code>plugins</code>. Each actor needs a unique name. It uses the syntax:</p>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    ...
    ...
    ...
&lt;/actor&gt;
</code></pre>
<h2 id="change-the-actor-pose">Change the actor pose</h2>
<p>The pose of the is determined using the pose parameter of an actor. The syntax is:
(x_pos, y_pos, z_pos, x_rot, y_rot, z_rot)</p>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    &lt;pose&gt;0 0 0 0 0 0&lt;/pose&gt;
    ...
    ...
&lt;/actor&gt;
</code></pre>
<h2 id="add-in-skins">Add in Skins</h2>
<p>The skin is the mesh of the actor or model that you want to place into the world. it is placed in the actor group and takes in the input of the filename. The syntax is:</p>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    &lt;skin&gt;
        &lt;filename&gt;moonwalk.dae&lt;/filename&gt;
        &lt;scale&gt;1.0&lt;/scale&gt;
    &lt;/skin&gt;
&lt;/actor&gt;
</code></pre>
<p>The mesh scale is also adjustable by changing the scale parameter.</p>
<h2 id="add-in-animations">Add in Animations</h2>
<p>Though the actor can operate without animations, it is preferable for you to add one, especially if the model is to move, as it would make the enviorment more interesting and realistic.</p>
<p>To add an animation to the actor, all it needs is a name fore the animation, and the file that contains the animation. The syntax for this is:
NOTE: THE FILE BECOMES BUGGY OR WILL NOT WORK IF THERE IS NO SKIN.</p>
<h1 id="important-in-order-for-the-animation-to-work-the-skeleton-of-the-skin-must-be-compatable-with-the-animation">IMPORTANT: IN ORDER FOR THE ANIMATION TO WORK, THE SKELETON OF THE SKIN MUST BE COMPATABLE WITH THE ANIMATION!!!!</h1>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    &lt;skin&gt;
        &lt;filename&gt;moonwalk.dae&lt;/filename&gt;
        &lt;scale&gt;1.0&lt;/scale&gt;
    &lt;/skin&gt;
    &lt;animation name=&quot;walking&quot;&gt;
        &lt;filename&gt;walk.dae&lt;/filename&gt;
        &lt;scale&gt;1.000000&lt;/scale&gt;
    &lt;/animation&gt;
&lt;/actor&gt;
</code></pre>
<p>The animation can also be scaled.</p>
<h2 id="scripts">Scripts</h2>
<p>Scripts are tasks that you can assign an actor to do, in this case it is to make the actor walk around to specific points at specific times. The syntax for this is:</p>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    &lt;skin&gt;
        &lt;filename&gt;moonwalk.dae&lt;/filename&gt;
        &lt;scale&gt;1.0&lt;/scale&gt;
    &lt;/skin&gt;
    &lt;animation name=&quot;walking&quot;&gt;
        &lt;filename&gt;walk.dae&lt;/filename&gt;
        &lt;scale&gt;1.000000&lt;/scale&gt;
    &lt;/animation&gt;
    &lt;script&gt;
        &lt;trajectory id=&quot;0&quot; type=&quot;NAME&quot;&gt;
            &lt;waypoint&gt;
                &lt;time&gt;0&lt;/time&gt;
                &lt;pose&gt;0 2 0 0 0 -1.57&lt;/pose&gt;
            &lt;/waypoint&gt;
            &lt;waypoint&gt;
                &lt;time&gt;2&lt;/time&gt;
                &lt;pose&gt;0 -2 0 0 0 -1.57&lt;/pose&gt;
            &lt;/waypoint&gt;
            ...
                ...
                ...
            ...
        &lt;/trajectory&gt;
    &lt;/script&gt;
&lt;/actor&gt;
</code></pre>
<p>You can add as many waypoitns as you want so long as they are at different times. The actor will navigate directly to that point at the specified time of arrive in <code>&lt;time&gt;0&lt;/time&gt;</code> and pose using <code>&lt;pose&gt;0 0 0 0 0 0&lt;/pose&gt;</code>.</p>
<h2 id="plugin-addons">Plugin addons</h2>
<p>The actor can also take on plugins such as obstacle avoidance, random navigation, and potentially teleop. The parameters for each plugin may be different, but the general syntax to give an actor a plugin is: </p>
<pre><code class="language-xml">&lt;actor name=&quot;actor&quot;&gt;
    &lt;skin&gt;
        &lt;filename&gt;moonwalk.dae&lt;/filename&gt;
        &lt;scale&gt;1.0&lt;/scale&gt;
    &lt;/skin&gt;
    &lt;animation name=&quot;walking&quot;&gt;
        &lt;filename&gt;walk.dae&lt;/filename&gt;
        &lt;scale&gt;1.000000&lt;/scale&gt;
    &lt;/animation&gt;
    &lt;plugin name=&quot;PLUGIN_NAME&quot; filename=&quot;NAME_OF_PLUGIN_FILE&quot;&gt;
        ...
    &lt;/plugin&gt;
&lt;/actor&gt;
</code></pre>
<p>With all of this you should be able to place a human or any model of actor within any Gazebo world. For reference, you can refer to the Gazebo actor tutorial for demonstration material.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="http://gazebosim.org/tutorials?tut=actor&amp;cat=build_robot">Make an animated model (actor)</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "navigation.tabs", "toc.integrate", "header.autohide"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>