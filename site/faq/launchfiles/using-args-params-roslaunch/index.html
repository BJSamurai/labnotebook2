
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Arguments and parameters are important tags for roslaunch files that are similar, but not quite the same.">
      
      
        <meta name="author" content="Evalyn Berleant, Kelly Duan">
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>How do I use Parameters and Arguments in ROS? - Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#evalyn-berleant-kelly-duan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Notebook" class="md-header__button md-logo" aria-label="Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How do I use Parameters and Arguments in ROS?
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../welcome/" class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cluster/" class="md-tabs__link">
        
  
    
  
  Rover Cluster

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../lab-robots/" class="md-tabs__link">
        
  
    
  
  Lab Robots

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../infrastructure/" class="md-tabs__link">
        
  
    
  
  Infrastrcture

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../reports/" class="md-tabs__link">
        
  
    
  
  Student Projects

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../packages/" class="md-tabs__link">
        
  
    
  
  Software

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../cr-package/" class="md-tabs__link">
        
  
    
  
  CR

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../reports/past-gen-letters/" class="md-tabs__link">
        
  
    
  
  Reports

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Notebook" class="md-nav__button md-logo" aria-label="Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5 2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5Z"/></svg>

    </a>
    Notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rover Cluster
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lab-robots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Robots
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastrcture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Student Projects
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cr-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CR
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reports/past-gen-letters/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reports
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Reports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reports/sample_project_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample Project Template
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>How do I use Parameters and Arguments in ROS?</h1>

<h4 id="evalyn-berleant-kelly-duan">Evalyn Berleant, Kelly Duan</h4>
<p>Arguments and parameters are important tags for roslaunch files that are similar, but not quite the same.</p>
<h3 id="what-are-parameters">What are parameters?</h3>
<p>Parameters are either set within a launch file or taken from the command line and passed to the launch file, and then used within scripts themselves.</p>
<h4 id="getting-parameters">Getting parameters</h4>
<p>Parameters can be called inside their nodes by doing</p>
<pre><code class="language-python"># get a global parameter
rospy.get_param('/global_param_name')

# get a parameter from our parent namespace
rospy.get_param('param_name')

# get a parameter from our private namespace
rospy.get_param('~private_param_name')
</code></pre>
<p>Example from <a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Parameters">ROS parameter tutorial</a>.</p>
<h4 id="adding-parameters-to-launch-files">Adding parameters to launch files</h4>
<h4 id="setting-parameters">Setting Parameters</h4>
<p>Parameters can be set inside nodes like such (python):</p>
<pre><code class="language-python">rospy.set_param('some_numbers', [1., 2., 3., 4.])
rospy.set_param('truth', True)
rospy.set_param('~private_bar', 1+2)
</code></pre>
<p>For instance, if you wanted to generate a random number for some parameter, you could do as follows:</p>
<pre><code class="language-xml">&lt;param name=&quot;robot_position&quot; command=&quot;$(find some_package)/scripts/generate_random_position.py&quot;/&gt;
</code></pre>
<p>which would generate a random position for the parameter.</p>
<p>Be careful that if you are setting parameters in more than one place that they are set in order correctly, or one file may overwrite the parameter’s value set by another file. (See links in resources for more detail).</p>
<h3 id="what-are-arguments">What are arguments?</h3>
<p>While parameters can pass values from a launch file into a node, arguments (that look like <code>&lt;arg name=”name”/&gt;</code> in the launch file) are passed from the terminal to the launch file, or from launch file to launch file. You can put arguments directly into the launch file like such and give it a value (or in this case a default value):</p>
<pre><code class="language-xml">&lt;launch&gt;
  &lt;arg name=&quot;x_pos&quot; default=&quot;0.0&quot; /&gt;
  &lt;arg name=&quot;y_pos&quot; default=&quot;0.0&quot; /&gt;
  &lt;arg name=&quot;z_pos&quot; default=&quot;0.0&quot; /&gt;
...
</code></pre>
<p>Or you can pass arguments into “included” files (launch files included in other launch files that will run):</p>
<pre><code class="language-xml">&lt;!-- start world and launch gazebo --&gt;
  &lt;include file=&quot;$(find gazebo_ros)/launch/empty_world.launch&quot;&gt;
    &lt;arg name=&quot;world_name&quot; value=&quot;$(find swarmbots)/worlds/$(arg world).world&quot;/&gt;
    &lt;arg name=&quot;paused&quot; value=&quot;true&quot;/&gt;
    &lt;arg name=&quot;use_sim_time&quot; value=&quot;true&quot;/&gt;
    &lt;arg name=&quot;gui&quot; value=&quot;true&quot;/&gt;
    &lt;arg name=&quot;headless&quot; value=&quot;false&quot;/&gt;
    &lt;arg name=&quot;debug&quot; value=&quot;false&quot;/&gt;
  &lt;/include&gt;
</code></pre>
<h3 id="substitution-args">Substitution args</h3>
<p>Substitution args, recognized by the <code>$</code> and parentheses surrounding the value, are used to pass values between arguments.
Setting the value of a parameter or argument as <code>value=”$(arg argument_name)”</code> will get the value of argument_name in the same launch file.
Using <code>$(eval some_expression)</code> will set the value to what the python expression at <code>some_expression</code> evaluates to.
Using <code>$(find pkg)</code> will get the location of a package recognized by the catkin workspace (very often used).</p>
<p>The <code>if</code> attribute can be used on the group tag, node tag, or include tag and work like an if statement that will execute what is inside the tag if true. By using <code>eval</code> and <code>if</code> together, it is possible to create loops to run files recursively. For example, running a launch file an arbitrary number of times can be done by specifying the number of times to be run in the launch file, including the launch file within itself, and decrementing the number of times to be run for each recursive <code>include</code> launch, stopping at some value checked by the <code>if</code> attribute.
Here is an example of a recursive launch file called <code>follower.launch</code> to spawn in robots.</p>
<pre><code class="language-xml">&lt;launch&gt;
  &lt;arg name=&quot;followers&quot; /&gt;
  &lt;arg name=&quot;ns&quot; /&gt;

  &lt;!-- BEGIN robot[#] --&gt;
  &lt;group ns=&quot;$(arg ns)&quot;&gt;

    &lt;param name=&quot;tf_prefix&quot; value=&quot;$(arg ns)&quot; /&gt;
    &lt;include file=&quot;$(find swarmbots)/launch/one_robot.launch&quot;&gt;
      &lt;arg name=&quot;robot_name&quot; value=&quot;$(arg ns)&quot; /&gt;
      &lt;arg name=&quot;followers&quot; value=&quot;$(arg followers)&quot; /&gt;
    &lt;/include&gt;
  &lt;/group&gt;

  &lt;!-- recursively start robot[#-1] --&gt;
  &lt;arg name=&quot;new_followers&quot; value=&quot;$(eval arg('followers') - 1)&quot; /&gt;
  &lt;include file=&quot;$(find swarmbots)/launch/follower.launch&quot; if=&quot;$(eval arg('new_followers') &gt;= 0)&quot;&gt;
    &lt;arg name=&quot;followers&quot; value=&quot;$(arg new_followers)&quot; /&gt;
    &lt;arg name=&quot;ns&quot; value=&quot;robot$(arg new_followers)&quot; /&gt;
  &lt;/include&gt;
&lt;/launch&gt;
</code></pre>
<p><code>followers</code> here will impact the number of times the launch file is recursively called. <code>$(eval arg('followers') - 1)</code> will decrement the value of <code>followers</code> inside each recursive launch, and the <code>if</code> attribute</p>
<pre><code class="language-xml"> if=&quot;$(eval arg('new_followers') &gt;= 0)&quot;
</code></pre>
<p>checks that once the new number is below 0, it will not call the launch file again.</p>
<h3 id="differences-between-arguments-and-parameters-important">Differences between arguments and parameters (important!)</h3>
<p>Both arguments and parameters can make use of substitution args. However, arguments cannot be changed by nodes like parameters are with <code>rospy.set_param()</code>. Because of the limits of substitution, you cannot take the value of a parameter and bring it to an argument.
If you want to use the same value between two params that require generating a specific value with <code>rospy.set_param()</code> then you should create another node that sets both parameters at once.</p>
<p>For example, this script</p>
<pre><code class="language-python">#!/usr/bin/env python
import random, rospy, roslib

rospy.init_node(&quot;generate_random_x&quot;)
pos_range = float(rospy.get_param('pos_range', 3))

x_pos = random.uniform(-pos_range / 2, pos_range / 2)
rospy.set_param('map_merge/init_pose_x',x_pos)

print(x_pos)
</code></pre>
<p>is called within a parameter using the <code>command</code> attribute.</p>
<pre><code class="language-xml">&lt;param name=&quot;x_pos&quot; command=&quot;$(find swarmbots)/src/generate_random_x.py&quot; /&gt;
</code></pre>
<p>The command attribute sets the value of the parameter to whatever is printed by <code>stdout</code> in the script. In this case, the script generates a random number for <code>x_pos</code>. In the same file, <code>rospy.setparam</code> is called to set another parameter to the same value of <code>x_pos</code>. In that way, both parameters can be set at once.</p>
<h3 id="too-many-parameters-use-rosparam">Too many parameters? Use rosparam!</h3>
<p>If you have too many parameters and/or groups of parameters, not only is it inefficient to write them into a launch file, but is also prone to many more errors. That is when a rosparam file comes in handy--a rosparam file is a YAML file that stores parameters in an easier-to-read format.
A good example of the utility of rosparam is the parameters for move_base, which uses the command</p>
<pre><code class="language-xml">&lt;rosparam file=&quot;$(find turtlebot3_navigation)/param/local_costmap_params.yaml&quot; command=&quot;load&quot; /&gt;
</code></pre>
<p>which loads the parameters from the yaml file here:</p>
<pre><code class="language-yaml">local_costmap:
  global_frame: odom
  robot_base_frame: base_footprint

  update_frequency: 10.0
  publish_frequency: 10.0
  transform_tolerance: 0.5  

  static_map: false  
  rolling_window: true
  width: 3
  height: 3
  resolution: 0.05
</code></pre>
<h3 id="references">References</h3>
<ul>
<li><a href="http://wiki.ros.org/rospy_tutorials/Tutorials/Parameters">Ros Parameters Tutorial</a></li>
<li><a href="http://wiki.ros.org/roslaunch/XML#substitution_args">Substitution args</a></li>
<li><a href="https://answers.ros.org/question/199608/roslaunch-order-of-rosparams/">Order of launch files</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "navigation.tabs", "toc.integrate", "header.autohide"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>